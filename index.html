<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>grok-autotrade</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="https://unpkg.com/@tonconnect/sdk@2.1.3/dist/tonconnect-sdk.min.js"></script>

<style>
html, body {
    margin: 0;
    padding: 0;
    background: #0b0b0b;
    color: white;
    font-family: Arial, sans-serif;
}

.app {
    padding: 24px;
}

button {
    width: 100%;
    padding: 16px;
    margin-top: 12px;
    font-size: 16px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    pointer-events: auto;
}

.connect {
    background: #0098ea;
    color: white;
}

.test {
    background: #444;
    color: white;
}

.status {
    margin-top: 16px;
    opacity: 0.8;
}
</style>
</head>

<body>

<div class="app">
    <h2>grok-autotrade</h2>

    <button class="test" id="testBtn">TEST CLICK</button>
    <button class="connect" id="connectBtn">Connect Wallet</button>

    <div class="status" id="status">Wallet not connected</div>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.ready();
tg.expand();

document.getElementById('testBtn').onclick = () => {
    alert('CLICK WORKS');
};

const tonConnect = new TON_CONNECT.TonConnect({
    manifestUrl: 'https://rgey52bb.github.io/tonconnect-manifest.json'
});

tonConnect.onStatusChange(wallet => {
    document.getElementById('status').innerText =
        wallet ? 'Connected' : 'Wallet not connected';
});

document.getElementById('connectBtn').onclick = async () => {
    try {
        await tonConnect.connectWallet();
    } catch (e) {
        alert('ERROR: ' + e.message);
    }
};
</script>

</body>
</html>
