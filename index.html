<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>grok-autotrade</title>

  <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>

<body style="background:#111;color:white;text-align:center">

<h2>grok-autotrade</h2>

<button id="connectBtn" style="font-size:18px;padding:14px 20px">
  Connect Wallet
</button>

<p id="status">Wallet not connected</p>

<script>
  // Telegram WebApp init
  const tg = window.Telegram.WebApp;
  tg.ready();

  // TonConnect init (ВАЖНО)
  const tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
    manifestUrl: 'https://sergey52bb.github.io/grok-autotrade/tonconnect-manifest.json'
  });

  // КНОПКА
  document.getElementById('connectBtn').onclick = () => {
    tonConnectUI.openModal();
  };

  // СЛУШАЕМ ПОДКЛЮЧЕНИЕ
  tonConnectUI.onStatusChange(wallet => {
    if (wallet) {
      document.getElementById('status').innerText =
        'Connected: ' + wallet.account.address;
    } else {
      document.getElementById('status').innerText =
        'Wallet not connected';
    }
  });
</script>

</body>
</html>
